<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="script-src 'self'; object-src 'none';">
  <title>Stay Focus! - Deep Focus Mode</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-gradient: radial-gradient(circle at top right, rgba(187,95,90,0.9), rgba(236,72,153,0.9) 40%, rgba(251,146,60,0.9));
      --white: #ffffff;
      --white-10: rgba(255,255,255,0.1);
      --white-20: rgba(255,255,255,0.2);
      --glass-bg: rgba(255,255,255,0.08);
      --glass-border: rgba(255,255,255,0.12);
      --glass-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--primary-gradient);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      color: var(--white);
    }

    @keyframes fadeUp {
      0% {
        opacity: 0;
        transform: translateY(24px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .blocked-container {
      width: 100%;
      max-width: 640px;
      background: var(--glass-bg);
      backdrop-filter: blur(16px);
      border-radius: 28px;
      padding: 48px;
      text-align: center;
      border: 1px solid var(--glass-border);
      box-shadow: var(--glass-shadow);
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
    }

    .icon-container {
      width: 96px;
      height: 96px;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(8px);
      border-radius: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 32px;
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
      animation-delay: 0.1s;
      box-shadow: var(--glass-shadow);
    }

    .icon-container svg {
      width: 48px;
      height: 48px;
      fill: var(--white);
    }

    .blocked-title {
      font-size: 40px;
      font-weight: 700;
      color: var(--white);
      margin-bottom: 16px;
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
      animation-delay: 0.2s;
      letter-spacing: -0.02em;
    }

    .blocked-quote {
      font-size: 18px;
      color: rgba(255,255,255,0.9);
      margin-bottom: 32px;
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
      animation-delay: 0.3s;
      font-weight: 400;
    }

    .blocked-site {
      font-size: 18px;
      color: var(--white);
      margin-bottom: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
      animation-delay: 0.35s;
      background: var(--glass-bg);
      padding: 16px 24px;
      border-radius: 16px;
      border: 1px solid var(--glass-border);
    }

    .action-buttons {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-bottom: 48px;
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
      animation-delay: 0.45s;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px 24px;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 14px;
      color: var(--white);
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.2s ease;
      backdrop-filter: blur(8px);
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to right, rgba(255,255,255,0.1), rgba(255,255,255,0.2));
      transform: translateX(-100%);
      transition: transform 0.3s ease;
    }

    .btn:hover {
      background: rgba(255,255,255,0.15);
      border-color: rgba(255,255,255,0.25);
      transform: translateY(-1px);
    }

    .btn:hover::before {
      transform: translateX(100%);
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn svg {
      width: 18px;
      height: 18px;
      stroke: currentColor;
      stroke-width: 2;
      position: relative;
      z-index: 1;
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .btn:disabled:hover {
      background: var(--glass-bg);
      border-color: var(--glass-border);
      transform: none;
    }

    .btn:disabled::before {
      display: none;
    }

    .divider {
      height: 1px;
      background: var(--glass-border);
      margin-bottom: 40px;
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
      animation-delay: 0.5s;
    }

    .stats-title {
      color: var(--white);
      font-weight: 600;
      margin-bottom: 24px;
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
      animation-delay: 0.55s;
      font-size: 18px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      animation: fadeUp 0.6s cubic-bezier(0.4,0,0.2,1) forwards;
      animation-delay: 0.6s;
    }

    .stat-item {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      padding: 20px;
      text-align: left;
      backdrop-filter: blur(8px);
      transition: transform 0.2s ease;
    }

    .stat-item:hover {
      transform: translateY(-2px);
    }

    .stat-label {
      font-size: 13px;
      color: rgba(255,255,255,0.7);
      margin-bottom: 6px;
      font-weight: 500;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 600;
      color: var(--white);
      letter-spacing: -0.02em;
    }

    .timer {
      color: var(--white);
      font-size: 15px;
      margin-top: 24px;
      opacity: 0.9;
      cursor: pointer;
      transition: opacity 0.2s ease;
    }

    .timer:hover {
      opacity: 1;
    }

    .debug-info {
      display: none;
      text-align: left;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-size: 13px;
      color: rgba(255,255,255,0.9);
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      padding: 16px;
      margin-top: 24px;
      backdrop-filter: blur(8px);
      line-height: 1.5;
    }

    @media (max-width: 640px) {
      .blocked-container {
        padding: 32px 24px;
      }
      
      .blocked-title {
        font-size: 32px;
      }
      
      .action-buttons {
        grid-template-columns: 1fr;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }

      .blocked-site {
        padding: 12px 16px;
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="blocked-container">
    <div class="icon-container">
      <svg viewBox="0 0 24 24">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"/>
      </svg>
    </div>
    
    <h1 class="blocked-title">Stay Focus!</h1>
    <p class="blocked-quote">"The cost of distraction is the life you could have lived."</p>
    
    <div class="blocked-site">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="2" y1="12" x2="22" y2="12"></line>
        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
      </svg>
      <span id="blockedSite">Loading...</span>
    </div>
    
    <div class="action-buttons">
      <button id="backBtn" class="btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Back To Work
      </button>
      
      <button id="openPopupBtn" class="btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h4"/>
          <path d="M16 16l5-5-5-5"/>
        </svg>
        View Progress
      </button>
      
      <button id="overrideBtn" class="btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <polyline points="12 6 12 12 16 14"/>
        </svg>
        Override (5 min)
      </button>
    </div>
    
    <div class="divider"></div>
    
    <h2 class="stats-title">Focus Session Stats</h2>
    
    <div class="stats-grid">
      <div class="stat-item">
        <div class="stat-label">Focus Time</div>
        <div class="stat-value" id="focusTime">--:--</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Blocked Attempts</div>
        <div class="stat-value" id="blockedAttempts">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Override Time</div>
        <div class="stat-value" id="overrideTime">--:--</div>
      </div>
    </div>
    
    <div class="timer" id="sessionTimer">Session Time: 00:00:00</div>
    
    <div class="debug-info" id="debugInfo">
      <div>URL: <span id="debugUrl">Loading...</span></div>
      <div>Focus Mode: <span id="debugFocusMode">Loading...</span></div>
      <div>Blocked Sites: <span id="debugBlockedCount">0</span></div>
      <div>Sites List: <span id="debugBlockedSites">Loading...</span></div>
    </div>
  </div>
  
  <script src="blocked.js"></script>
</body>
</html> 